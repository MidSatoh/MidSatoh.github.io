<!DOCTYPE html>
<html>
  <head>
    <title>MID-S</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2020-03-05T18:49:03 JST">
<title>Mavenプロジェクトの作成 :: MID-S</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/midsatoh.github.io\/";
</script>
<link href="/css/custom.css" rel="stylesheet">
<meta name="description" content="">



    
  </head>
  <body data-url="/java/spring/maven/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://midsatoh.github.io/">MID-S</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="https://midsatoh.github.io/python/" class="dd-item haschildren
        ">
      <div>
      <a href="/python/">Python</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/python/python_aspects/" class="dd-item">
        <div>
          <a href="/python/python_aspects/">
            Pythonの特徴
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="https://midsatoh.github.io/python/install/" class="dd-item haschildren
        ">
      <div>
      <a href="/python/install/">環境設定</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/python/install/select_soft/" class="dd-item">
        <div>
          <a href="/python/install/select_soft/">
            インストール方法の選択
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/python/install/install_soft/" class="dd-item">
        <div>
          <a href="/python/install/install_soft/">
            Pythonインストーラによるインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/python/install/anaconda/" class="dd-item">
        <div>
          <a href="/python/install/anaconda/">
            Anacondaのインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/python/install/pyenv/" class="dd-item">
        <div>
          <a href="/python/install/pyenv/">
            pyenvによるインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/python/install/pyenv-win/" class="dd-item">
        <div>
          <a href="/python/install/pyenv-win/">
            pyenv-winによるインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://midsatoh.github.io/java/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/java/">Java</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="https://midsatoh.github.io/java/install/" class="dd-item haschildren
        ">
      <div>
      <a href="/java/install/">環境設定</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/java/install/openjdk/" class="dd-item">
        <div>
          <a href="/java/install/openjdk/">
            OpenJDKのインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/java/install/eclipse/" class="dd-item">
        <div>
          <a href="/java/install/eclipse/">
            Eclipseのインストールと設定
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="https://midsatoh.github.io/java/spring/maven/" class="dd-item active">
        <div>
          <a href="/java/spring/maven/">
            Mavenプロジェクトの作成
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://midsatoh.github.io/uml/" class="dd-item haschildren
        ">
      <div>
      <a href="/uml/">UML</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/uml/modelio/" class="dd-item">
        <div>
          <a href="/uml/modelio/">
            Modelioの使い方
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://midsatoh.github.io/typescript/" class="dd-item haschildren
        ">
      <div>
      <a href="/typescript/">Typescript</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/typescript/install/" class="dd-item">
        <div>
          <a href="/typescript/install/">
            TypeScriptのインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://midsatoh.github.io/mac/" class="dd-item haschildren
        ">
      <div>
      <a href="/mac/">Mac</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/mac/homebrew/" class="dd-item">
        <div>
          <a href="/mac/homebrew/">
            Homebrewのインストール
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="https://midsatoh.github.io/javascript/" class="dd-item
        ">
      <div>
      <a href="/javascript/">JavaScript</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="https://midsatoh.github.io/kotlin/" class="dd-item haschildren
        ">
      <div>
      <a href="/kotlin/">Kotlin</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="https://midsatoh.github.io/kotlin/basic/" class="dd-item">
        <div>
          <a href="/kotlin/basic/">
            Kotlin基礎文法
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="https://midsatoh.github.io/kotlin/foreach/" class="dd-item">
        <div>
          <a href="/kotlin/foreach/">
            forEachの使い方
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/python/" >
   Python</option>
    <option value="/java/" >
   Java</option> 
    <option value="/java/install/" >
  - 
   環境設定</option>
      <option value="/java/spring/maven/"  selected>- Mavenプロジェクトの作成</option>
  
    <option value="/uml/" >
   UML</option>
    <option value="/typescript/" >
   Typescript</option>
    <option value="/mac/" >
   Mac</option>
    <option value="/javascript/" >
   JavaScript</option>
    <option value="/kotlin/" >
   Kotlin</option>



        </select>
      </center>
    </div>

    <h1>Mavenプロジェクトの作成</h1>

    
    <section>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#maven">Mavenとは</a></li>
    <li><a href="#maven1">Mavenでできること</a>
      <ul>
        <li><a href="#maven2">Mavenのディレクトリ構成</a></li>
      </ul>
    </li>
    <li><a href="#pomproject-object-model">POM(Project Object Model)</a>
      <ul>
        <li><a href="#mvn">mvnコマンド</a></li>
      </ul>
    </li>
    <li><a href="#eclipsemaven">EclipseでのMavenプロジェクト作成</a></li>
  </ul>
</nav>
    </section>
    
    <script src="/js/custom_toc.js"></script>
    
    
    
    <div class="addthis_inline_share_toolbox" id="addThis"></div>
    <h2 id="maven">Mavenとは</h2>
<p>Mavenとは、プログラム開発を行う際のコンパイル・テストなどのコマンドやライブラリの自動配置などを担うためのツール群である。
Javaでは、開発環境や実行環境におけるJVMのバージョンやライブラリのバージョンなどが相互に影響しているため、手作業で環境を作成するためには幅広い知識が必要になる。
また、ライブラリによっては相互関係のあるライブラリが多岐にわたっており、それぞれのバージョンを手作業で合わせるのはかなり困難であり、開発者間で環境を合わせることも
そのため、ライブラリ管理やコンパイル時・実行時のパス設定などを自動的に設定するためのツールとしてMavenやGradle、過去にはAntが多くのプロジェクトで利用されている。</p>
<p>統合開発ツールであるEclipseでは、最新の2019.09ではMavenとGradleについては標準で対応している。</p>
<h2 id="maven1">Mavenでできること</h2>
<p>Mavenは以下のようなコマンドが用意されている。</p>
<table>
<thead>
<tr>
<th>コマンド</th>
<th>概要</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>mvn architype:generate</strong></td>
<td>Mavenプロジェクトを作成する</td>
</tr>
<tr>
<td>mvn validate</td>
<td>プロジェクトの配置やコンパイルエラーなどがないかを確認する（コンパイルは未実行）</td>
</tr>
<tr>
<td><strong>mvn compile</strong></td>
<td>プロジェクトのコンパイルを実行し、targetディレクトリを作成する</td>
</tr>
<tr>
<td><strong>mvn test</strong></td>
<td>テスト（JUnit）を実行する</td>
</tr>
<tr>
<td><strong>mvn package</strong></td>
<td>jarやwarなどの成果物を作成する（valiate、compile、testを実行し、問題がなければ作成）</td>
</tr>
<tr>
<td>mvn install</td>
<td>ローカルのリポジトリにパッケージングされた成果物を配置する</td>
</tr>
<tr>
<td>mvn deploy</td>
<td>インターネット上のリポジトリにパッケージを配置する</td>
</tr>
<tr>
<td><strong>mvn clean</strong></td>
<td>targetディレクトリを削除し、コンパイル前の状態に戻す</td>
</tr>
<tr>
<td>mvn javadoc:javadoc</td>
<td>JavaDocを作成する</td>
</tr>
</tbody>
</table>
<h3 id="maven2">Mavenのディレクトリ構成</h3>
<p>Mavenプロジェクトの標準ディレクトリ構成は以下の通り。
基本的にはデフォルトのまま利用する。</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">プロジェクトルート
    |--- LICENSE.txt    <span style="color:#09f;font-style:italic"># プロジェクトのライセンス情報を記述するファイル</span>
    |--- README.txt     <span style="color:#09f;font-style:italic"># プロジェクト情報を記述するファイル</span>
    |--- NOTICE.txt     <span style="color:#09f;font-style:italic"># プロジェクトの帰属通知を記述するファイル</span>
    |--- pom.xml        <span style="color:#09f;font-style:italic"># mavenのライフサイクル規定を記述する設定ファイル</span>
    |
    |--- src
    |    |--- main      <span style="color:#09f;font-style:italic"># 実装するJavaやWebアプリのパッケージを格納するディレクトリ</span>
    |    |     |--- java    <span style="color:#09f;font-style:italic"># Javaのソースファイルを格納するディレクトリ</span>
    |    |     |--- resources   <span style="color:#09f;font-style:italic"># 実行時に利用する設定情報（リソース）ファイルを格納するディレクトリ</span>
    |    |     |--- webapp  <span style="color:#09f;font-style:italic"># Webアプリに関係するHTMLやCSS、JSPなどを格納するディレクトリ</span>
    |    |     |--- filters <span style="color:#09f;font-style:italic"># ターゲットとしてフィルタリングするリソースファイルを格納するディレクトリ</span>
    |    |
    |    |--- <span style="color:#366">test</span>  <span style="color:#09f;font-style:italic"># JUnitテストで利用するJavaや設定情報を格納するディレクトリ</span>
    |    |     |--- java    <span style="color:#09f;font-style:italic"># テストコード（ファイル名はTest**.java、**Test.java、**TestCase.javaのいずれか）</span>
    |    |     |--- resources <span style="color:#09f;font-style:italic"># テスト実行時に利用する設定情報（リソース）ファイルを格納するディレクトリ</span>
    |    |     |--- filters <span style="color:#09f;font-style:italic"># テスト環境ごとにフィルタリングするリソースファイルを格納するディレクトリ</span>
    |    |
    |    |--- config    <span style="color:#09f;font-style:italic"># Mavenプロジェクトの設定ファイルを格納するディレクトリ</span>
    |    |--- site      <span style="color:#09f;font-style:italic"># Webサイトの情報を格納するディレクトリ</span>
    |
    |--- target
    　      |--- classes <span style="color:#09f;font-style:italic"># mvn compileでコンパイルされたクラスファイルを格納するディレクトリ</span>
</code></pre></div><h2 id="pomproject-object-model">POM(Project Object Model)</h2>
<p>Mavenでは、プロジェクトのライフサイクルをPOM（Project Object Model）という考え方に基づいて管理している。</p>
<link href="/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
<script defer src="/mermaid/mermaid.js">mermaid.initialize({startOnLoad:true});</script>
<div class="mermaid" align="center" >
graph LR;
    A[プロジェクトの作成<br>mvn architype:generate] --> B[コンパイル<br>mvn compile]
    B --> C[テスト<br>mvn test]
    C --> D[パッケージング<br>mvn package]
    D --> E[インストール<br>mvn install]
    E --> F[公開<br>mvn deploy]
</div>
<p>このライフサイクルを規定するための設定ファイルが、<code>pom.xml</code>である。</p>
<h3 id="mvn">mvnコマンド</h3>
<p>Mavenをコマンドで利用する場合は、<code>mvn</code>コマンドを使用する。
<code>mvn</code>コマンドを利用するためには、環境変数<code>JAVA_HOME</code>の設定が必要となっている。</p>
<p>mvn オプション 実行内容:ゴール</p>
<p><code>mvn archetype:generate</code>コマンドを利用し、プロジェクトの雛形を作成する。</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mvn archetype:generate <span style="color:#c30;font-weight:bold">\ </span>     <span style="color:#09f;font-style:italic"># コマンドの実行(archetype:generateで雛形作成)</span>
  -DarchetypeArtifactId<span style="color:#555">=</span>maven-archetype-quickstart <span style="color:#c30;font-weight:bold">\ </span> <span style="color:#09f;font-style:italic"># 雛形の選択(今回はquickstart)</span>
  -DinteractiveMode<span style="color:#555">=</span><span style="color:#366">false</span> <span style="color:#c30;font-weight:bold">\ </span><span style="color:#09f;font-style:italic"># 対話形式での雛形作成をOFF</span>
  -DgroupId<span style="color:#555">=</span><span style="color:#555">{</span>group-id<span style="color:#555">}</span> <span style="color:#c30;font-weight:bold">\ </span>   <span style="color:#09f;font-style:italic"># プロジェクトルートパッケージ、一般的には社名など</span>
  -DartifactId<span style="color:#555">=</span><span style="color:#555">{</span>project-name<span style="color:#555">}</span> <span style="color:#09f;font-style:italic"># プロジェクト名</span>
</code></pre></div><p>コマンドを実行すると、POMを設定するためのpom.xmlが自動生成される。</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#309;font-weight:bold">&lt;project</span> <span style="color:#309">xmlns=</span><span style="color:#c30">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
  <span style="color:#309">xmlns:xsi=</span><span style="color:#c30">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
  <span style="color:#309">xsi:schemaLocation=</span><span style="color:#c30">&#34;http://maven.apache.org/POM/4.0.0
</span><span style="color:#c30">                      http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#309;font-weight:bold">&gt;</span>
  <span style="color:#309;font-weight:bold">&lt;modelVersion</span><span style="color:#309;font-weight:bold">&gt;</span>4.0.0<span style="color:#309;font-weight:bold">&lt;/modelVersion&gt;</span>

  <span style="color:#309;font-weight:bold">&lt;groupId</span><span style="color:#309;font-weight:bold">&gt;</span>co.jp.fullness<span style="color:#309;font-weight:bold">&lt;/groupId&gt;</span>
  <span style="color:#309;font-weight:bold">&lt;artifactId</span><span style="color:#309;font-weight:bold">&gt;</span>sample-project<span style="color:#309;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#309;font-weight:bold">&lt;version</span><span style="color:#309;font-weight:bold">&gt;</span>1.0<span style="color:#309;font-weight:bold">&lt;/version&gt;</span>
  ・・・
<span style="color:#309;font-weight:bold">&lt;/project&gt;</span>
</code></pre></div><h2 id="eclipsemaven">EclipseでのMavenプロジェクト作成</h2>
<p>Eclipseでは、同梱のMavenを利用してMavenプロジェクトを作成することができる。
Eclipse2019.10での同梱Mavenバージョンは3.5である。</p>
<p>Eclipseの[ファイル]→[新規]→[Mavenプロジェクト]で新規作成を行う。</p>
<p><img src="/images/java/maven/eclipse-generate01.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成01"></p>
<p>次画面はデフォルトのまま移動し、その次の画面にて、雛形を指定する。</p>
<p><img src="/images/java/maven/eclipse-generate02.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成02"></p>
<p>次画面にて、groupIdおよびartifactId、作成パッケージなどを設定し、プロジェクト作成が完了する。</p>
<p><img src="/images/java/maven/eclipse-generate03.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成03"></p>
<p>Mavenで作成したプロジェクトは、Java1.5ベースとなっているため、ビルドパスを変更する必要がある。
作成されたプロジェクトを選択し、ビルドパスの構成を選択する。</p>
<p><img src="/images/java/maven/eclipse-generate04.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成04"></p>
<p>ビルドパスの構成画面にて「ライブラリー」タグを選択し、JREシステムライブラリー(1.5)を除去する。
除去後、ライブラリーの追加を実施する。</p>
<p><img src="/images/java/maven/eclipse-generate05.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成05"></p>
<p>JREシステムライブラリーを選択する。</p>
<p><img src="/images/java/maven/eclipse-generate06.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成06"></p>
<p>ワークスペースで登録済みのJREまたはインストールされている別のJREを選択し、完了する。</p>
<p><img src="/images/java/maven/eclipse-generate07.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成07"></p>
<p>JREシステムライブラリーが指定したバージョンに変更されていることを確認したら、適用して完了となる。</p>
<p><img src="/images/java/maven/eclipse-generate08.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成08"></p>
<p>ビルドパスの設定が完了したら、Mavenプロジェクトとして開発が可能となる。</p>
<p><img src="/images/java/maven/eclipse-generate09.png?classes=border,shadow&amp;width=70%25" alt="Eclipseでのプロジェクト作成09"></p>

    
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5de07c32251c84e0"></script>
​<script type="text/javascript">
    var addthis_config = addthis_config||{};
        addthis_config.data_track_addressbar = false;
        addthis_config.data_track_clickback = false;
</script>
    

    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/java/install/eclipse/" title="Eclipseのインストールと設定"> <i class="fa fa-chevron-left"></i><label>Eclipseのインストールと設定</label></a>
    <a class="nav nav-next" href="/uml/" title="UML" style="margin-right: 0px;"><label>UML</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    
    <div class="tags"> 
      
        <a class="label label-default" href="https://midsatoh.github.io/tags/java">java</a>
      
        <a class="label label-default" href="https://midsatoh.github.io/tags/maven">maven</a>
      
        <a class="label label-default" href="https://midsatoh.github.io/tags/eclipse">eclipse</a>
      
    </div>
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i>  25/11/2019
    </div>
    

    
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>